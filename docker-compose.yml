# In: /your-server-projects/dbt/docker-compose.yml

version: '3.8'

services:
  dbt:
    image: ghcr.io/dbt-labs/dbt-postgres:1.8.latest
    
    env_file:
      - .env
      
    volumes:
      # This is now a simple, optional variable substitution
      - ${DBT_PROJECT_PATH}:/usr/app/dbt
      - ${DBT_PROJECT_PATH}/profiles:/root/.dbt/
      
    working_dir: /usr/app/dbt
    
    networks:
      - supabase_network

networks:
  supabase_network:
    name: supabase_default
    external: true